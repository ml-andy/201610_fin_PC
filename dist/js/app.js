"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),App=function(){function e(){_classCallCheck(this,e),this.ready(),this.loading=$(".loading"),$(window).load(function(){this.windowLoad()}.bind(this))}return _createClass(e,[{key:"ready",value:function(){switch(this.page=$(".page"),this.page.attr("class").split("page ")[1]){case"index":this.index=new Index;break;case"login_member":this.login_member=new Login_member;break;case"login_member_nodata":this.login_member_nodata=new Login_member_nodata;break;case"login_member_nodata_confirm":this.login_member_nodata_confirm=new Login_member_nodata_confirm;break;case"login_number":this.login_number=new Login_number;break;case"login_number_success":this.login_number_success=new Login_number_success;break;case"inquire":this.inquire=new Inquire;break;case"award_list":this.award_list=new Award_list;break;case"award_info":this.award_info=new Award_info;break;case"about":this.about=new About}}},{key:"windowLoad",value:function(){this.loading.fadeOut()}}]),e}();$(function(){new App});var About=function e(){_classCallCheck(this,e),this.HeaderModel=new HeaderModel,this.page=$(".page.about")},Award_info=function n(){_classCallCheck(this,n),this.HeaderModel=new HeaderModel,this.page=$(".page.award_info")},Award_list=function t(){_classCallCheck(this,t),this.HeaderModel=new HeaderModel,this.page=$(".page.award_list")},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),HeaderModel=function(){function e(){_classCallCheck(this,e),this.header=$(".header"),this.menu=$(".menu"),this.menubtn=this.header.find(".menubtn"),this.menubtn.on("click",function(){this.menubtn.hasClass("on")?this.openmenu(!1):this.openmenu(!0)}.bind(this)),this.menua=this.menu.find(".menua"),this.menua.on("click",function(e){this.menuaClick($(e.currentTarget).attr("class").split("menua ")[1])}.bind(this)),this.qrcode=$(".qrcode_popup"),this.qrcode_close=this.qrcode.find(".close"),this.qrcode_close.on("click",function(e){this.show_qrcode_popup(!1)}.bind(this))}return _createClass(e,[{key:"openmenu",value:function(e){e?(this.menubtn.addClass("on"),$(".menu").addClass("on")):(this.menubtn.removeClass("on"),$(".menu").removeClass("on"))}},{key:"menuaClick",value:function(e){switch(e){case"m1":window.location.href="inquire.php";break;case"m2":window.location.href="about.html";break;case"m3":window.location.href="award_info.html";break;case"m4":window.location.href="award_list.html";break;case"m5":console.log("share fb");break;case"m6":window.location.href="login_member.php";break;case"m7":window.location.href="index.html";break;case"m8":alert("遊戲將於11/2正式上線");break;case"m9":window.location.href="login_number.php"}}},{key:"show_qrcode_popup",value:function(e){e?$(".qrcode_popup").fadeIn():$(".qrcode_popup").fadeOut()}}]),e}(),Index=function i(){_classCallCheck(this,i),this.HeaderModel=new HeaderModel,this.page=$(".page.index"),this.gamePlay_btn=this.page.find(".gamePlay_btn"),this.gamePlay_btn.on("click",function(){this.HeaderModel.menuaClick("m8")}.bind(this)),this.login_number_btn=this.page.find(".login_number_btn"),this.login_number_btn.on("click",function(){this.HeaderModel.menuaClick("m9")}.bind(this))},Inquire=function a(){_classCallCheck(this,a),this.HeaderModel=new HeaderModel,this.page=$(".page.inquire")},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),Login_member=function(){function e(){_classCallCheck(this,e),this.HeaderModel=new HeaderModel}return _createClass(e,[{key:"bannerAni",value:function(){}}]),e}(),Login_member_nodata=function o(){_classCallCheck(this,o),this.HeaderModel=new HeaderModel,this.page=$(".page.login_member_nodata"),this.checkbox=this.page.find(".checkbox"),this.checkbox.on("click",function(e){$(e.currentTarget).hasClass("on")?$(e.currentTarget).removeClass("on"):$(e.currentTarget).addClass("on")})},Login_member_nodata_confirm=function s(){_classCallCheck(this,s),this.HeaderModel=new HeaderModel,this.page=$(".page.login_member_nodata_confirm")},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),Login_number=function l(){_classCallCheck(this,l),this.HeaderModel=new HeaderModel,this.verPopup=new VerPopup($(".verPopup")),this.page=$(".page.login_number"),this.submit=this.page.find(".submit")},VerPopup=function(){function e(n){_classCallCheck(this,e),this.verPopup=n,this.main=this.verPopup.find(".main"),this.bottle1=this.verPopup.find(".bottle1"),this.bottle2=this.verPopup.find(".bottle2"),this.drag_left=0,this.og_left=this.bottle1.offset().left,this.og_right=this.bottle2.offset().left,this.bottle1W=this.bottle1.width(),this.bottle2W=this.bottle2.width(),this.Login_number_sned=0,this.bottle1.on("mousedown",function(){this.og_left=this.bottle1.offset().left,this.og_right=this.bottle2.offset().left,this.goal=this.og_right-this.og_left+this.bottle2W/2-this.bottle1W/2,console.log(this.og_left),this.bottle1.bind("mousemove",this.bottle1touchmove.bind(this))}.bind(this)),this.main.on("mouseup",function(){this.bottle1.unbind("mousemove",this.bottle1touchmove.bind(this)),this.bottle1.attr("style","")}.bind(this))}return _createClass(e,[{key:"bottle1touchmove",value:function(e){if(this.drag_left=e.pageX-this.og_left-this.bottle1W/2,this.drag_left<0)this.drag_left=0;else if(this.drag_left>=this.goal)return this.showverPopup(!1),void this.bottle1.unbind("mousemove",this.bottle1touchmove.bind(this));this.bottle1.css("margin-left",this.drag_left)}},{key:"showverPopup",value:function(e){if(e)this.verPopup.fadeIn();else if(this.verPopup.fadeOut(),0==this.Login_number_sned){var n={type:"post",url:"/inc/sn.php",success:showCartResponse};$(".form-sn").ajaxSubmit(n),this.Login_number_sned=1}}}]),e}(),Login_number_success=function r(){_classCallCheck(this,r),this.HeaderModel=new HeaderModel,this.page=$(".page.login_number_success"),this.more=this.page.find(".more"),this.back=this.page.find(".back"),this.sharefb=this.page.find(".sharefb"),this.more.on("click",function(){this.HeaderModel.menuaClick("m9")}.bind(this)),this.back.on("click",function(){this.HeaderModel.menuaClick("m7")}.bind(this)),this.sharefb.on("click",function(){this.HeaderModel.menuaClick("m5")}.bind(this))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1vZHVsZXMvQWJvdXQuanMiLCJtb2R1bGVzL0F3YXJkX2luZm8uanMiLCJtb2R1bGVzL2F3YXJkX2xpc3QuanMiLCJtb2R1bGVzL0hlYWRlck1vZGVsLmpzIiwibW9kdWxlcy9JbmRleC5qcyIsIm1vZHVsZXMvSW5xdWlyZS5qcyIsIm1vZHVsZXMvTG9naW5fbWVtYmVyLmpzIiwibW9kdWxlcy9Mb2dpbl9tZW1iZXJfbm9kYXRhLmpzIiwibW9kdWxlcy9Mb2dpbl9tZW1iZXJfbm9kYXRhX2NvbmZpcm0uanMiLCJtb2R1bGVzL0xvZ2luX251bWJlci5qcyIsIm1vZHVsZXMvTG9naW5fbnVtYmVyX3N1Y2Nlc3MuanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJBcHAiLCJ0aGlzIiwicmVhZHkiLCJsb2FkaW5nIiwiJCIsIndpbmRvdyIsImxvYWQiLCJ3aW5kb3dMb2FkIiwiYmluZCIsInZhbHVlIiwicGFnZSIsImF0dHIiLCJzcGxpdCIsImluZGV4IiwiSW5kZXgiLCJsb2dpbl9tZW1iZXIiLCJMb2dpbl9tZW1iZXIiLCJsb2dpbl9tZW1iZXJfbm9kYXRhIiwiTG9naW5fbWVtYmVyX25vZGF0YSIsImxvZ2luX21lbWJlcl9ub2RhdGFfY29uZmlybSIsIkxvZ2luX21lbWJlcl9ub2RhdGFfY29uZmlybSIsImxvZ2luX251bWJlciIsIkxvZ2luX251bWJlciIsImxvZ2luX251bWJlcl9zdWNjZXNzIiwiTG9naW5fbnVtYmVyX3N1Y2Nlc3MiLCJpbnF1aXJlIiwiSW5xdWlyZSIsImF3YXJkX2xpc3QiLCJBd2FyZF9saXN0IiwiYXdhcmRfaW5mbyIsIkF3YXJkX2luZm8iLCJhYm91dCIsIkFib3V0IiwiZmFkZU91dCIsIkhlYWRlck1vZGVsIiwiaGVhZGVyIiwibWVudSIsIm1lbnVidG4iLCJmaW5kIiwib24iLCJoYXNDbGFzcyIsIm9wZW5tZW51IiwibWVudWEiLCJlIiwibWVudWFDbGljayIsImN1cnJlbnRUYXJnZXQiLCJxcmNvZGUiLCJxcmNvZGVfY2xvc2UiLCJzaG93X3FyY29kZV9wb3B1cCIsIl90IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1lbnVsaW5rIiwibG9jYXRpb24iLCJocmVmIiwiY29uc29sZSIsImxvZyIsImFsZXJ0IiwiZmFkZUluIiwiZ2FtZVBsYXlfYnRuIiwibG9naW5fbnVtYmVyX2J0biIsImNoZWNrYm94IiwidmVyUG9wdXAiLCJWZXJQb3B1cCIsInN1Ym1pdCIsImRvbSIsIm1haW4iLCJib3R0bGUxIiwiYm90dGxlMiIsImRyYWdfbGVmdCIsIm9nX2xlZnQiLCJvZmZzZXQiLCJsZWZ0Iiwib2dfcmlnaHQiLCJib3R0bGUxVyIsIndpZHRoIiwiYm90dGxlMlciLCJMb2dpbl9udW1iZXJfc25lZCIsImdvYWwiLCJib3R0bGUxdG91Y2htb3ZlIiwidW5iaW5kIiwicGFnZVgiLCJzaG93dmVyUG9wdXAiLCJjc3MiLCJvcHRpb25zIiwidHlwZSIsInVybCIsInN1Y2Nlc3MiLCJzaG93Q2FydFJlc3BvbnNlIiwiYWpheFN1Ym1pdCIsIm1vcmUiLCJiYWNrIiwic2hhcmVmYiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFJQSxTQUFTQSxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FrRWhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQVVoSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FVaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBWWhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQXVGaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBb0JoSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FZaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBbUJoSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FlaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBYWhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQW1GaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBN1ZoSCxHQUFJQyxjQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFiLEVBQWlCSCxFQUFhZ0IsR0FBcUJoQixNQUYxaEJrQixJQUFBQSxXQUNMLFFBQUFBLEtBQWNwQixnQkFBQXFCLEtBQUFELEdBQ2JDLEtBQUtDLFFBQ0xELEtBQUtFLFFBQVVDLEVBQUUsWUFDakJBLEVBQUVDLFFBQVFDLEtBQUssV0FDZEwsS0FBS00sY0FDSkMsS0FBS1AsT0F3RFIsTUE3Q0FqQixjQUFhZ0IsSUFDWkosSUFBSyxRQUNMYSxNQUFPLFdBUlAsT0FGQVIsS0FBS1MsS0FBT04sRUFBRSxTQUVOSCxLQUFLUyxLQUFLQyxLQUFLLFNBQVNDLE1BQU0sU0FBUyxJQUM5QyxJQUFLLFFBQ0pYLEtBQUtZLE1BQVEsR0FBSUMsTUFDakIsTUFDRCxLQUFLLGVBQ0piLEtBQUtjLGFBQWUsR0FBSUMsYUFDeEIsTUFDRCxLQUFLLHNCQUNKZixLQUFLZ0Isb0JBQXNCLEdBQUlDLG9CQUMvQixNQUNELEtBQUssOEJBQ0pqQixLQUFLa0IsNEJBQThCLEdBQUlDLDRCQUN2QyxNQUNELEtBQUssZUFDSm5CLEtBQUtvQixhQUFlLEdBQUlDLGFBQ3hCLE1BQ0QsS0FBSyx1QkFDSnJCLEtBQUtzQixxQkFBdUIsR0FBSUMscUJBQ2hDLE1BQ0QsS0FBSyxVQUNKdkIsS0FBS3dCLFFBQVUsR0FBSUMsUUFDbkIsTUFDRCxLQUFLLGFBQ0p6QixLQUFLMEIsV0FBYSxHQUFJQyxXQUN0QixNQUNELEtBQUssYUFDSjNCLEtBQUs0QixXQUFhLEdBQUlDLFdBQ3RCLE1BQ0QsS0FBSyxRQUNKN0IsS0FBSzhCLE1BQVEsR0FBSUMsV0FnQm5CcEMsSUFBSyxhQUNMYSxNQUFPLFdBWlBSLEtBQUtFLFFBQVE4QixjQWlCUGpDLElBYlJJLEdBQUUsV0FDUyxHQUFJSixNQXNCZixJQ3hFTWdDLE9BQ0YsUUFBQUEsS0FBY3BELGdCQUFBcUIsS0FBQStCLEdBQ1YvQixLQUFLaUMsWUFBYyxHQUFJQSxhQUN2QmpDLEtBQUtTLEtBQU9OLEVBQUUsZ0JDSGhCMEIsV0FDRixRQUFBQSxLQUFjbEQsZ0JBQUFxQixLQUFBNkIsR0FDVjdCLEtBQUtpQyxZQUFjLEdBQUlBLGFBQ3ZCakMsS0FBS1MsS0FBT04sRUFBRSxxQkNIaEJ3QixXQUNGLFFBQUFBLEtBQWNoRCxnQkFBQXFCLEtBQUEyQixHQUNWM0IsS0FBS2lDLFlBQWMsR0FBSUEsYUFDdkJqQyxLQUFLUyxLQUFPTixFQUFFLHFCSGlHbEJwQixhQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFiLEVBQWlCSCxFQUFhZ0IsR0FBcUJoQixNSXBHMWhCb0QsWUFBQUEsV0FDRixRQUFBQSxLQUFjdEQsZ0JBQUFxQixLQUFBaUMsR0FDVmpDLEtBQUtrQyxPQUFTL0IsRUFBRSxXQUNoQkgsS0FBS21DLEtBQU9oQyxFQUFFLFNBRWRILEtBQUtvQyxRQUFVcEMsS0FBS2tDLE9BQU9HLEtBQUssWUFDaENyQyxLQUFLb0MsUUFBUUUsR0FBRyxRQUFRLFdBQ2pCdEMsS0FBS29DLFFBQVFHLFNBQVMsTUFBT3ZDLEtBQUt3QyxVQUFTLEdBQ3pDeEMsS0FBS3dDLFVBQVMsSUFDckJqQyxLQUFLUCxPQUVQQSxLQUFLeUMsTUFBUXpDLEtBQUttQyxLQUFLRSxLQUFLLFVBQzVCckMsS0FBS3lDLE1BQU1ILEdBQUcsUUFBUSxTQUFTSSxHQUMzQjFDLEtBQUsyQyxXQUFXeEMsRUFBRXVDLEVBQUVFLGVBQWVsQyxLQUFLLFNBQVNDLE1BQU0sVUFBVSxLQUNuRUosS0FBS1AsT0FFUEEsS0FBSzZDLE9BQVMxQyxFQUFFLGlCQUNoQkgsS0FBSzhDLGFBQWU5QyxLQUFLNkMsT0FBT1IsS0FBSyxVQUNyQ3JDLEtBQUs4QyxhQUFhUixHQUFHLFFBQVEsU0FBU0ksR0FDbEMxQyxLQUFLK0MsbUJBQWtCLElBQ3pCeEMsS0FBS1AsT0pvS1gsTUF4REFqQixjQUFha0QsSUFDVHRDLElBQUssV0FDTGEsTUFBTyxTSTVHRndDLEdBQ0ZBLEdBQ0NoRCxLQUFLb0MsUUFBUWEsU0FBUyxNQUN0QjlDLEVBQUUsU0FBUzhDLFNBQVMsUUFFcEJqRCxLQUFLb0MsUUFBUWMsWUFBWSxNQUN6Qi9DLEVBQUUsU0FBUytDLFlBQVksVUpnSDNCdkQsSUFBSyxhQUNMYSxNQUFPLFNJOUdBMkMsR0FDUCxPQUFRQSxHQUNKLElBQUssS0FDRC9DLE9BQU9nRCxTQUFTQyxLQUFLLGFBQ3JCLE1BQ0osS0FBSyxLQUNEakQsT0FBT2dELFNBQVNDLEtBQUssWUFDckIsTUFDSixLQUFLLEtBQ0RqRCxPQUFPZ0QsU0FBU0MsS0FBSyxpQkFDckIsTUFDSixLQUFLLEtBQ0RqRCxPQUFPZ0QsU0FBU0MsS0FBSyxpQkFDckIsTUFDSixLQUFLLEtBQ0RDLFFBQVFDLElBQUksV0FDWixNQUNKLEtBQUssS0FDRG5ELE9BQU9nRCxTQUFTQyxLQUFLLGtCQUNyQixNQUNKLEtBQUssS0FDRGpELE9BQU9nRCxTQUFTQyxLQUFLLFlBQ3JCLE1BQ0osS0FBSyxLQUVERyxNQUFNLGVBQ04sTUFDSixLQUFLLEtBQ0RwRCxPQUFPZ0QsU0FBU0MsS0FBSyx1QkptSDdCMUQsSUFBSyxvQkFDTGEsTUFBTyxTSWhIT3dDLEdBQ1hBLEVBQ0M3QyxFQUFFLGlCQUFpQnNELFNBRW5CdEQsRUFBRSxpQkFBaUI2QixjSnFIcEJDLEtLeExMcEIsTUFDRixRQUFBQSxLQUFjbEMsZ0JBQUFxQixLQUFBYSxHQUNWYixLQUFLaUMsWUFBYyxHQUFJQSxhQUN2QmpDLEtBQUtTLEtBQU9OLEVBQUUsZUFFZEgsS0FBSzBELGFBQWUxRCxLQUFLUyxLQUFLNEIsS0FBSyxpQkFDbkNyQyxLQUFLMEQsYUFBYXBCLEdBQUcsUUFBUSxXQUN6QnRDLEtBQUtpQyxZQUFZVSxXQUFXLE9BQzlCcEMsS0FBS1AsT0FDUEEsS0FBSzJELGlCQUFtQjNELEtBQUtTLEtBQUs0QixLQUFLLHFCQUN2Q3JDLEtBQUsyRCxpQkFBaUJyQixHQUFHLFFBQVEsV0FDN0J0QyxLQUFLaUMsWUFBWVUsV0FBVyxPQUM5QnBDLEtBQUtQLFFDWlR5QixRQUNGLFFBQUFBLEtBQWM5QyxnQkFBQXFCLEtBQUF5QixHQUNWekIsS0FBS2lDLFlBQWMsR0FBSUEsYUFDdkJqQyxLQUFLUyxLQUFPTixFQUFFLGtCTndObEJwQixhQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFiLEVBQWlCSCxFQUFhZ0IsR0FBcUJoQixNTzNOMWhCa0MsYUFBQUEsV0FDRixRQUFBQSxLQUFjcEMsZ0JBQUFxQixLQUFBZSxHQUNWZixLQUFLaUMsWUFBYyxHQUFJQSxhUHlPM0IsTUFMQWxELGNBQWFnQyxJQUNUcEIsSUFBSyxZQUNMYSxNQUFPLGdCQUdKTyxLUTNPTEUsb0JBQ0YsUUFBQUEsS0FBY3RDLGdCQUFBcUIsS0FBQWlCLEdBQ1ZqQixLQUFLaUMsWUFBYyxHQUFJQSxhQUN2QmpDLEtBQUtTLEtBQU9OLEVBQUUsNkJBQ2RILEtBQUs0RCxTQUFXNUQsS0FBS1MsS0FBSzRCLEtBQUssYUFDL0JyQyxLQUFLNEQsU0FBU3RCLEdBQUcsUUFBUSxTQUFTSSxHQUMzQnZDLEVBQUV1QyxFQUFFRSxlQUFlTCxTQUFTLE1BQU9wQyxFQUFFdUMsRUFBRUUsZUFBZU0sWUFBWSxNQUNoRS9DLEVBQUV1QyxFQUFFRSxlQUFlSyxTQUFTLFNDUHZDOUIsNEJBQ0YsUUFBQUEsS0FBY3hDLGdCQUFBcUIsS0FBQW1CLEdBQ1ZuQixLQUFLaUMsWUFBYyxHQUFJQSxhQUN2QmpDLEtBQUtTLEtBQU9OLEVBQUUsc0NUdVFsQnBCLGFBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdDLFdBQWFELEVBQVdDLGFBQWMsRUFBT0QsRUFBV0UsY0FBZSxFQUFVLFNBQVdGLEtBQVlBLEVBQVdHLFVBQVcsR0FBTUMsT0FBT0MsZUFBZVQsRUFBUUksRUFBV00sSUFBS04sSUFBaUIsTUFBTyxVQUFVUixFQUFhZSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVosRUFBaUJILEVBQVlpQixVQUFXRixHQUFpQkMsR0FBYWIsRUFBaUJILEVBQWFnQixHQUFxQmhCLE1VMVExaEJ3QyxhQUNGLFFBQUFBLEtBQWMxQyxnQkFBQXFCLEtBQUFxQixHQUNWckIsS0FBS2lDLFlBQWMsR0FBSUEsYUFDdkJqQyxLQUFLNkQsU0FBVyxHQUFJQyxVQUFTM0QsRUFBRSxjQUMvQkgsS0FBS1MsS0FBT04sRUFBRSxzQkFFZEgsS0FBSytELE9BQVMvRCxLQUFLUyxLQUFLNEIsS0FBSyxZQU0vQnlCLFNBQUFBLFdBQ0YsUUFBQUEsR0FBWUUsR0FBS3JGLGdCQUFBcUIsS0FBQThELEdBQ2I5RCxLQUFLNkQsU0FBV0csRUFDaEJoRSxLQUFLaUUsS0FBT2pFLEtBQUs2RCxTQUFTeEIsS0FBSyxTQUMvQnJDLEtBQUtrRSxRQUFVbEUsS0FBSzZELFNBQVN4QixLQUFLLFlBQ2xDckMsS0FBS21FLFFBQVVuRSxLQUFLNkQsU0FBU3hCLEtBQUssWUFDbENyQyxLQUFLb0UsVUFBWSxFQUNqQnBFLEtBQUtxRSxRQUFVckUsS0FBS2tFLFFBQVFJLFNBQVNDLEtBQ3JDdkUsS0FBS3dFLFNBQVd4RSxLQUFLbUUsUUFBUUcsU0FBU0MsS0FDdEN2RSxLQUFLeUUsU0FBV3pFLEtBQUtrRSxRQUFRUSxRQUM3QjFFLEtBQUsyRSxTQUFXM0UsS0FBS21FLFFBQVFPLFFBQzdCMUUsS0FBSzRFLGtCQUFvQixFQUV6QjVFLEtBQUtrRSxRQUFRNUIsR0FBRyxZQUFZLFdBQ3hCdEMsS0FBS3FFLFFBQVVyRSxLQUFLa0UsUUFBUUksU0FBU0MsS0FDckN2RSxLQUFLd0UsU0FBV3hFLEtBQUttRSxRQUFRRyxTQUFTQyxLQUN0Q3ZFLEtBQUs2RSxLQUFPN0UsS0FBS3dFLFNBQVd4RSxLQUFLcUUsUUFBVXJFLEtBQUsyRSxTQUFTLEVBQUkzRSxLQUFLeUUsU0FBUyxFQUMzRW5CLFFBQVFDLElBQUl2RCxLQUFLcUUsU0FDakJyRSxLQUFLa0UsUUFBUTNELEtBQUssWUFBYVAsS0FBSzhFLGlCQUFpQnZFLEtBQUtQLFFBQzVETyxLQUFLUCxPQUVQQSxLQUFLaUUsS0FBSzNCLEdBQUcsVUFBVSxXQUNuQnRDLEtBQUtrRSxRQUFRYSxPQUFPLFlBQWEvRSxLQUFLOEUsaUJBQWlCdkUsS0FBS1AsT0FDNURBLEtBQUtrRSxRQUFReEQsS0FBSyxRQUFRLEtBQzVCSCxLQUFLUCxPVnNUWCxNQWxDQWpCLGNBQWErRSxJQUNUbkUsSUFBSyxtQkFDTGEsTUFBTyxTVXBSTWtDLEdBR2IsR0FEQTFDLEtBQUtvRSxVQUFZMUIsRUFBRXNDLE1BQVFoRixLQUFLcUUsUUFBVXJFLEtBQUt5RSxTQUFXLEVBQ3ZEekUsS0FBS29FLFVBQVUsRUFBR3BFLEtBQUtvRSxVQUFVLE1BQy9CLElBQUdwRSxLQUFLb0UsV0FBYXBFLEtBQUs2RSxLQUczQixNQUZBN0UsTUFBS2lGLGNBQWEsT0FDbEJqRixNQUFLa0UsUUFBUWEsT0FBTyxZQUFhL0UsS0FBSzhFLGlCQUFpQnZFLEtBQUtQLE1BSWhFQSxNQUFLa0UsUUFBUWdCLElBQUksY0FBY2xGLEtBQUtvRSxjVnNScEN6RSxJQUFLLGVBQ0xhLE1BQU8sU1VyUkV3QyxHQUNULEdBQUdBLEVBQUloRCxLQUFLNkQsU0FBU0osYUFLakIsSUFIQ3pELEtBQUs2RCxTQUFTN0IsVUFHZSxHQUExQmhDLEtBQUs0RSxrQkFBd0IsQ0FDN0IsR0FBSU8sSUFDQUMsS0FBTSxPQUNOQyxJQUFLLGNBQ0xDLFFBQVNDLGlCQUdicEYsR0FBRSxZQUFZcUYsV0FBV0wsR0FDekJuRixLQUFLNEUsa0JBQW9CLE9WMFI5QmQsS1cxVkx2QyxxQkFDRixRQUFBQSxLQUFjNUMsZ0JBQUFxQixLQUFBdUIsR0FDVnZCLEtBQUtpQyxZQUFjLEdBQUlBLGFBQ3ZCakMsS0FBS1MsS0FBT04sRUFBRSw4QkFDZEgsS0FBS3lGLEtBQU96RixLQUFLUyxLQUFLNEIsS0FBSyxTQUMzQnJDLEtBQUswRixLQUFPMUYsS0FBS1MsS0FBSzRCLEtBQUssU0FDM0JyQyxLQUFLMkYsUUFBVTNGLEtBQUtTLEtBQUs0QixLQUFLLFlBRTlCckMsS0FBS3lGLEtBQUtuRCxHQUFHLFFBQVEsV0FDakJ0QyxLQUFLaUMsWUFBWVUsV0FBVyxPQUM5QnBDLEtBQUtQLE9BQ1BBLEtBQUswRixLQUFLcEQsR0FBRyxRQUFRLFdBQ2pCdEMsS0FBS2lDLFlBQVlVLFdBQVcsT0FDOUJwQyxLQUFLUCxPQUNQQSxLQUFLMkYsUUFBUXJELEdBQUcsUUFBUSxXQUNwQnRDLEtBQUtpQyxZQUFZVSxXQUFXLE9BQzlCcEMsS0FBS1AiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBwIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMucmVhZHkoKTtcclxuXHRcdHRoaXMubG9hZGluZyA9ICQoJy5sb2FkaW5nJyk7XHJcblx0XHQkKHdpbmRvdykubG9hZChmdW5jdGlvbigpe1xyXG5cdFx0XHR0aGlzLndpbmRvd0xvYWQoKTtcclxuXHRcdH0uYmluZCh0aGlzKSk7XHJcblx0fVxyXG5cdHJlYWR5KCkge1xyXG5cdFx0dGhpcy5wYWdlID0gJCgnLnBhZ2UnKTtcclxuXHJcblx0XHRzd2l0Y2ggKHRoaXMucGFnZS5hdHRyKCdjbGFzcycpLnNwbGl0KCdwYWdlICcpWzFdKSB7XHJcblx0XHRcdGNhc2UgJ2luZGV4JzpcclxuXHRcdFx0XHR0aGlzLmluZGV4ID0gbmV3IEluZGV4KCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2xvZ2luX21lbWJlcic6XHJcblx0XHRcdFx0dGhpcy5sb2dpbl9tZW1iZXIgPSBuZXcgTG9naW5fbWVtYmVyKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2xvZ2luX21lbWJlcl9ub2RhdGEnOlxyXG5cdFx0XHRcdHRoaXMubG9naW5fbWVtYmVyX25vZGF0YSA9IG5ldyBMb2dpbl9tZW1iZXJfbm9kYXRhKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2xvZ2luX21lbWJlcl9ub2RhdGFfY29uZmlybSc6XHJcblx0XHRcdFx0dGhpcy5sb2dpbl9tZW1iZXJfbm9kYXRhX2NvbmZpcm0gPSBuZXcgTG9naW5fbWVtYmVyX25vZGF0YV9jb25maXJtKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2xvZ2luX251bWJlcic6XHJcblx0XHRcdFx0dGhpcy5sb2dpbl9udW1iZXIgPSBuZXcgTG9naW5fbnVtYmVyKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2xvZ2luX251bWJlcl9zdWNjZXNzJzpcclxuXHRcdFx0XHR0aGlzLmxvZ2luX251bWJlcl9zdWNjZXNzID0gbmV3IExvZ2luX251bWJlcl9zdWNjZXNzKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2lucXVpcmUnOlxyXG5cdFx0XHRcdHRoaXMuaW5xdWlyZSA9IG5ldyBJbnF1aXJlKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2F3YXJkX2xpc3QnOlxyXG5cdFx0XHRcdHRoaXMuYXdhcmRfbGlzdCA9IG5ldyBBd2FyZF9saXN0KCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2F3YXJkX2luZm8nOlxyXG5cdFx0XHRcdHRoaXMuYXdhcmRfaW5mbyA9IG5ldyBBd2FyZF9pbmZvKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2Fib3V0JzpcclxuXHRcdFx0XHR0aGlzLmFib3V0ID0gbmV3IEFib3V0KCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cdHdpbmRvd0xvYWQoKXtcclxuXHRcdHRoaXMubG9hZGluZy5mYWRlT3V0KCk7XHJcblx0fVxyXG59XHJcblxyXG4kKGZ1bmN0aW9uKCkge1xyXG5cdHZhciBhcHAgPSBuZXcgQXBwKCk7XHJcbn0pO1xyXG5cclxuIiwiY2xhc3MgQWJvdXQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5IZWFkZXJNb2RlbCA9IG5ldyBIZWFkZXJNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMucGFnZSA9ICQoJy5wYWdlLmFib3V0Jyk7XHJcbiAgICB9XHJcbn0iLCJjbGFzcyBBd2FyZF9pbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuSGVhZGVyTW9kZWwgPSBuZXcgSGVhZGVyTW9kZWwoKTtcclxuICAgICAgICB0aGlzLnBhZ2UgPSAkKCcucGFnZS5hd2FyZF9pbmZvJyk7XHJcbiAgICB9XHJcbn0iLCJjbGFzcyBBd2FyZF9saXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuSGVhZGVyTW9kZWwgPSBuZXcgSGVhZGVyTW9kZWwoKTtcclxuICAgICAgICB0aGlzLnBhZ2UgPSAkKCcucGFnZS5hd2FyZF9saXN0Jyk7XHJcbiAgICB9XHJcbn0iLCJjbGFzcyBIZWFkZXJNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmhlYWRlciA9ICQoJy5oZWFkZXInKTtcclxuICAgICAgICB0aGlzLm1lbnUgPSAkKCcubWVudScpO1xyXG5cclxuICAgICAgICB0aGlzLm1lbnVidG4gPSB0aGlzLmhlYWRlci5maW5kKCcubWVudWJ0bicpO1xyXG4gICAgICAgIHRoaXMubWVudWJ0bi5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMubWVudWJ0bi5oYXNDbGFzcygnb24nKSkgdGhpcy5vcGVubWVudShmYWxzZSk7XHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5vcGVubWVudSh0cnVlKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLm1lbnVhID0gdGhpcy5tZW51LmZpbmQoJy5tZW51YScpO1xyXG4gICAgICAgIHRoaXMubWVudWEub24oJ2NsaWNrJyxmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy5tZW51YUNsaWNrKCQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdjbGFzcycpLnNwbGl0KCdtZW51YSAnKVsxXSk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5xcmNvZGUgPSAkKCcucXJjb2RlX3BvcHVwJyk7XHJcbiAgICAgICAgdGhpcy5xcmNvZGVfY2xvc2UgPSB0aGlzLnFyY29kZS5maW5kKCcuY2xvc2UnKTtcclxuICAgICAgICB0aGlzLnFyY29kZV9jbG9zZS5vbignY2xpY2snLGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB0aGlzLnNob3dfcXJjb2RlX3BvcHVwKGZhbHNlKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgb3Blbm1lbnUoX3QpIHtcclxuICAgICAgICBpZihfdCl7XHJcbiAgICAgICAgICAgIHRoaXMubWVudWJ0bi5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgJCgnLm1lbnUnKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5tZW51YnRuLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAkKCcubWVudScpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1lbnVhQ2xpY2sobWVudWxpbmspe1xyXG4gICAgICAgIHN3aXRjaCAobWVudWxpbmspIHtcclxuICAgICAgICAgICAgY2FzZSAnbTEnOlxyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9XCJpbnF1aXJlLnBocFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ20yJzpcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPVwiYWJvdXQuaHRtbFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ20zJzpcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPVwiYXdhcmRfaW5mby5odG1sXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbTQnOlxyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9XCJhd2FyZF9saXN0Lmh0bWxcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtNSc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hhcmUgZmInKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtNic6XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cImxvZ2luX21lbWJlci5waHBcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtNyc6XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cImluZGV4Lmh0bWxcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtOCc6XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNob3dfcXJjb2RlX3BvcHVwKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ+mBiuaIsuWwh+aWvDExLzLmraPlvI/kuIrnt5onKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtOSc6XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cImxvZ2luX251bWJlci5waHBcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3dfcXJjb2RlX3BvcHVwKF90KXtcclxuICAgICAgICBpZihfdCl7XHJcbiAgICAgICAgICAgICQoJy5xcmNvZGVfcG9wdXAnKS5mYWRlSW4oKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJCgnLnFyY29kZV9wb3B1cCcpLmZhZGVPdXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gbW9kdWxlLmV4cG9ydHMgPSBIZWFkZXJNb2RlbDsiLCJjbGFzcyBJbmRleCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkhlYWRlck1vZGVsID0gbmV3IEhlYWRlck1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gJCgnLnBhZ2UuaW5kZXgnKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmdhbWVQbGF5X2J0biA9IHRoaXMucGFnZS5maW5kKCcuZ2FtZVBsYXlfYnRuJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lUGxheV9idG4ub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLkhlYWRlck1vZGVsLm1lbnVhQ2xpY2soJ204Jyk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmxvZ2luX251bWJlcl9idG4gPSB0aGlzLnBhZ2UuZmluZCgnLmxvZ2luX251bWJlcl9idG4nKTtcclxuICAgICAgICB0aGlzLmxvZ2luX251bWJlcl9idG4ub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLkhlYWRlck1vZGVsLm1lbnVhQ2xpY2soJ205Jyk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxufVxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IEluZGV4OyIsImNsYXNzIElucXVpcmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5IZWFkZXJNb2RlbCA9IG5ldyBIZWFkZXJNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMucGFnZSA9ICQoJy5wYWdlLmlucXVpcmUnKTtcclxuICAgIH1cclxufSIsImNsYXNzIExvZ2luX21lbWJlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkhlYWRlck1vZGVsID0gbmV3IEhlYWRlck1vZGVsKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBiYW5uZXJBbmkoKXtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IEluZGV4OyIsImNsYXNzIExvZ2luX21lbWJlcl9ub2RhdGEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5IZWFkZXJNb2RlbCA9IG5ldyBIZWFkZXJNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMucGFnZSA9ICQoJy5wYWdlLmxvZ2luX21lbWJlcl9ub2RhdGEnKTtcclxuICAgICAgICB0aGlzLmNoZWNrYm94ID0gdGhpcy5wYWdlLmZpbmQoJy5jaGVja2JveCcpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tib3gub24oJ2NsaWNrJyxmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgaWYoJChlLmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCdvbicpKSAkKGUuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgIGVsc2UgJChlLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8vIG1vZHVsZS5leHBvcnRzID0gSW5kZXg7IiwiY2xhc3MgTG9naW5fbWVtYmVyX25vZGF0YV9jb25maXJtIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuSGVhZGVyTW9kZWwgPSBuZXcgSGVhZGVyTW9kZWwoKTtcclxuICAgICAgICB0aGlzLnBhZ2UgPSAkKCcucGFnZS5sb2dpbl9tZW1iZXJfbm9kYXRhX2NvbmZpcm0nKTtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IEluZGV4OyIsImNsYXNzIExvZ2luX251bWJlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkhlYWRlck1vZGVsID0gbmV3IEhlYWRlck1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy52ZXJQb3B1cCA9IG5ldyBWZXJQb3B1cCgkKCcudmVyUG9wdXAnKSk7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gJCgnLnBhZ2UubG9naW5fbnVtYmVyJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zdWJtaXQgPSB0aGlzLnBhZ2UuZmluZCgnLnN1Ym1pdCcpO1xyXG4gICAgICAgIC8vIHRoaXMuc3VibWl0Lm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyAgICAgdGhpcy52ZXJQb3B1cC5zaG93dmVyUG9wdXAodHJ1ZSk7XHJcbiAgICAgICAgLy8gfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBWZXJQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihkb20pIHtcclxuICAgICAgICB0aGlzLnZlclBvcHVwID0gZG9tO1xyXG4gICAgICAgIHRoaXMubWFpbiA9IHRoaXMudmVyUG9wdXAuZmluZCgnLm1haW4nKTtcclxuICAgICAgICB0aGlzLmJvdHRsZTEgPSB0aGlzLnZlclBvcHVwLmZpbmQoJy5ib3R0bGUxJyk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUyID0gdGhpcy52ZXJQb3B1cC5maW5kKCcuYm90dGxlMicpO1xyXG4gICAgICAgIHRoaXMuZHJhZ19sZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLm9nX2xlZnQgPSB0aGlzLmJvdHRsZTEub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB0aGlzLm9nX3JpZ2h0ID0gdGhpcy5ib3R0bGUyLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUxVyA9IHRoaXMuYm90dGxlMS53aWR0aCgpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlMlcgPSB0aGlzLmJvdHRsZTIud2lkdGgoKTtcclxuICAgICAgICB0aGlzLkxvZ2luX251bWJlcl9zbmVkID0gMDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJvdHRsZTEub24oJ21vdXNlZG93bicsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5vZ19sZWZ0ID0gdGhpcy5ib3R0bGUxLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMub2dfcmlnaHQgPSB0aGlzLmJvdHRsZTIub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgdGhpcy5nb2FsID0gdGhpcy5vZ19yaWdodCAtIHRoaXMub2dfbGVmdCArIHRoaXMuYm90dGxlMlcvMiAtIHRoaXMuYm90dGxlMVcvMjtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5vZ19sZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0bGUxLmJpbmQoJ21vdXNlbW92ZScsIHRoaXMuYm90dGxlMXRvdWNobW92ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubWFpbi5vbignbW91c2V1cCcsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5ib3R0bGUxLnVuYmluZCgnbW91c2Vtb3ZlJywgdGhpcy5ib3R0bGUxdG91Y2htb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRsZTEuYXR0cignc3R5bGUnLCcnKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgYm90dGxlMXRvdWNobW92ZShlKXtcclxuICAgICAgICAvLyBlID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XHJcbiAgICAgICAgdGhpcy5kcmFnX2xlZnQgPSBlLnBhZ2VYIC0gdGhpcy5vZ19sZWZ0IC0gdGhpcy5ib3R0bGUxVyAvIDI7XHJcbiAgICAgICAgaWYodGhpcy5kcmFnX2xlZnQ8MCkgdGhpcy5kcmFnX2xlZnQ9MDtcclxuICAgICAgICBlbHNlIGlmKHRoaXMuZHJhZ19sZWZ0ID49IHRoaXMuZ29hbCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd3ZlclBvcHVwKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0bGUxLnVuYmluZCgnbW91c2Vtb3ZlJywgdGhpcy5ib3R0bGUxdG91Y2htb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJvdHRsZTEuY3NzKCdtYXJnaW4tbGVmdCcsdGhpcy5kcmFnX2xlZnQpO1xyXG4gICAgfVxyXG4gICAgc2hvd3ZlclBvcHVwKF90KXtcclxuICAgICAgICBpZihfdCkgdGhpcy52ZXJQb3B1cC5mYWRlSW4oKTtcclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgdGhpcy52ZXJQb3B1cC5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgIC8vICB3aW5kb3cubG9jYXRpb24uaHJlZj1cImxvZ2luX251bWJlcl9zdWNjZXNzLmh0bWxcIjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh0aGlzLkxvZ2luX251bWJlcl9zbmVkID09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JywgXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2luYy9zbi5waHAnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHNob3dDYXJ0UmVzcG9uc2VcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLmZvcm0tc24nKS5hamF4U3VibWl0KG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dpbl9udW1iZXJfc25lZCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gbW9kdWxlLmV4cG9ydHMgPSBJbmRleDsiLCJjbGFzcyBMb2dpbl9udW1iZXJfc3VjY2VzcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkhlYWRlck1vZGVsID0gbmV3IEhlYWRlck1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gJCgnLnBhZ2UubG9naW5fbnVtYmVyX3N1Y2Nlc3MnKTtcclxuICAgICAgICB0aGlzLm1vcmUgPSB0aGlzLnBhZ2UuZmluZCgnLm1vcmUnKTtcclxuICAgICAgICB0aGlzLmJhY2sgPSB0aGlzLnBhZ2UuZmluZCgnLmJhY2snKTtcclxuICAgICAgICB0aGlzLnNoYXJlZmIgPSB0aGlzLnBhZ2UuZmluZCgnLnNoYXJlZmInKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb3JlLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5IZWFkZXJNb2RlbC5tZW51YUNsaWNrKCdtOScpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5iYWNrLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5IZWFkZXJNb2RlbC5tZW51YUNsaWNrKCdtNycpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5zaGFyZWZiLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5IZWFkZXJNb2RlbC5tZW51YUNsaWNrKCdtNScpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbn0iXX0=
